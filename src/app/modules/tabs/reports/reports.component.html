<div class="reports-container">
  <div class="header">
    <h1 class="title">Medical Reports</h1>
    <div class="header-stats">
      <div class="stat-card">
        <span class="stat-number">{{ getStats().total }}</span>
        <span class="stat-label">Total Reports</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">{{ getStats().completed }}</span>
        <span class="stat-label">Completed</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">{{ getStats().pending }}</span>
        <span class="stat-label">Pending</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">{{ getStats().inProgress }}</span>
        <span class="stat-label">In Progress</span>
      </div>
    </div>
  </div>

  <!-- Filters Section -->
  <div class="filters-section">
    <div class="filter-group">
      <label>Status:</label>
      <select (change)="updateFilter('status', $event)" class="filter-select">
        <option value="all">All Status</option>
        <option value="completed">Completed</option>
        <option value="pending">Pending</option>
        <option value="in-progress">In Progress</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>Department:</label>
      <select (change)="updateFilter('department', $event)" class="filter-select">
        <option value="all">All Departments</option>
        <option value="cardiology">Cardiology</option>
        <option value="neurology">Neurology</option>
        <option value="orthopedics">Orthopedics</option>
        <option value="pediatrics">Pediatrics</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>Urgency:</label>
      <select (change)="updateFilter('urgency', $event)" class="filter-select">
        <option value="all">All Urgency</option>
        <option value="high">High</option>
        <option value="medium">Medium</option>
        <option value="low">Low</option>
        <option value="routine">Routine</option>
      </select>
    </div>
  </div>

  <div class="reports-list">
    <div *ngFor="let report of filteredReports" class="report-card">
      <div class="report-header">
        <div class="report-title-section">
          <h3 class="report-title">{{ report.reportType }}</h3>
          <span class="patient-name">{{ report.patientName }}</span>
          <span class="patient-id">ID: {{ report.patientId }}</span>
        </div>
        
        <div class="report-meta">
          <span class="report-date">{{ report.reportDate }}</span>
          <span class="status-badge" [class]="getStatusClass(report.status)">
            {{ report.status }}
          </span>
          <span class="urgency-badge" [class]="getUrgencyClass(report.urgency)">
            {{ report.urgency }} priority
          </span>
        </div>
      </div>
      
      <div class="report-content">
        <div class="report-details">
          <div class="detail-row">
            <span class="detail-label">Generated By:</span>
            <span class="detail-value">{{ report.generatedBy }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Department:</span>
            <span class="detail-value department-badge">{{ report.department }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Attachments:</span>
            <span class="detail-value">{{ report.attachments }} files</span>
          </div>
        </div>
        
        <div class="findings-section">
          <h4>Key Findings</h4>
          <p class="findings-text">{{ report.findings }}</p>
        </div>
        
        <div class="recommendations-section">
          <h4>Recommendations</h4>
          <p class="recommendations-text">{{ report.recommendations }}</p>
        </div>
        
        <div class="lab-results" *ngIf="report.status === 'completed'">
          <h4>Lab Results</h4>
          <div class="results-grid">
            <div *ngFor="let result of getLabResults(report)" class="result-item">
              <span class="result-label">{{ result.key }}:</span>
              <span class="result-value">{{ result.value }}</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="report-actions">
        <button class="btn btn-download" (click)="downloadReport(report.id)">
          <i class="icon-download"></i> Download PDF
        </button>
        <button class="btn btn-share" (click)="shareReport(report.id)">
          <i class="icon-share"></i> Share
        </button>
        <button class="btn btn-view" *ngIf="report.status === 'completed'">
          <i class="icon-view"></i> View Details
        </button>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="filteredReports.length === 0" class="empty-state">
    <div class="empty-icon">ðŸ“Š</div>
    <h3>No reports found</h3>
    <p>Try adjusting your filters to see more results</p>
  </div>
</div>